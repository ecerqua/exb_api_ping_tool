System.register(["jimu-core","jimu-ui"],function(e,t){var r={},a={};return{setters:[function(e){r.DataSourceComponent=e.DataSourceComponent,r.DataSourceStatus=e.DataSourceStatus,r.React=e.React,r.css=e.css},function(e){a.Label=e.Label}],execute:function(){e((()=>{var e={244(e){"use strict";e.exports=r},321(e){"use strict";e.exports=a}},t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="";var n={};return o.p=window.jimuConfig.baseUrl,(()=>{"use strict";o.r(n),o.d(n,{__set_webpack_public_path__:()=>s,default:()=>a});var e=o(244),t=o(321),r=function(e,t,r,a){return new(r||(r=Promise))(function(o,n){function c(e){try{i(a.next(e))}catch(e){n(e)}}function s(e){try{i(a.throw(e))}catch(e){n(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(c,s)}i((a=a.apply(e,t||[])).next())})};function a(a){return a.useDataSources&&1===a.useDataSources.length?e.React.createElement("div",{className:"widget-listen-selection-change",css:c},e.React.createElement("h3",null,"Widget shows API result for selected parcel."),e.React.createElement(e.DataSourceComponent,{useDataSource:a.useDataSources[0],query:{where:"1=1"},widgetId:a.id},(a,o)=>e.React.createElement("div",{className:"selected-records-api-result"},a&&a.getStatus()===e.DataSourceStatus.Loaded?a.getSelectedRecords().map(a=>e.React.createElement(t.Label,{size:"default",key:a.getId()},function(e){return r(this,void 0,void 0,function*(){if(!e||"string"!=typeof e)return"Invalid parcel id";const t="https://backend.artifexai.io/api/assessments/"+encodeURIComponent(e.trim())+"/";try{const e=yield fetch(t,{method:"GET",headers:{"X-API-Key":"75c5def3-0d8d-4d71-8424-da0f17ff8e10","Content-Type":"application/json"}});if(!e.ok)return`Error: ${e.status} ${e.statusText}`;const r=yield e.json();return JSON.stringify(r)}catch(e){return`Error fetching parcel data: ${e.message}`}})}(a.getFieldValue("MAP_PAR_ID")))):e.React.createElement("div",null,"Loading...")))):e.React.createElement("h3",null,"Widget shows API result for selected parcel.",e.React.createElement("br",null),"Please configure the data source.")}const c=e.css`
  width: 100%;
  height: 100%;
  max-height: 800px;
  overflow: auto;
  .blue-border {
    border: 1px solid var(--sys-color-primary-main);
  }
  .record-list {
    width: 100%;
    margin-top: 20px;
    height: calc(100% - 80px);
    overflow: auto;
  }
`;function s(e){o.p=e}})(),n})())}}});